Import('CLASSPATH')

turborav_jar = Command(
    ['scala/classes/TurboRav.jar'],
    Glob('main/scala/*') + Glob('test/scala/*'),
    """fsc\
    -feature\
    -language:reflectiveCalls\
    -Xlint\
    -Xlint:-nullary-unit\
    -Xfatal-warnings\
    -classpath {0}\
    -d build/scala/classes\
    build/main/scala/*.scala\
    build/test/scala/*.scala\
    \
    &&\
    \
    jar cf \
    build/scala/classes/TurboRav.jar \
    -C build/scala/classes TurboRav""".format(CLASSPATH)
)[0]

Return('turborav_jar')
