Import("soc_v")

script = File("yosys.ys")
log    = File("yosys.log")
blif   = File("Soc.blif")
yosys_env = Environment(YOSYS_LOG = log, BLIF = blif)
yosys_env.Command(
    [blif, log],
    [soc_v, script],
    'yosys $SOC_V $SCRIPT > $YOSYS_LOG',
    SCRIPT = script,
    SOC_V = soc_v
)

SConscript(
    "icoboard/SConscript",
    exports = "yosys_env blif"
)
